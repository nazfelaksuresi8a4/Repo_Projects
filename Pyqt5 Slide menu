from PyQt5.QtWidgets import *
from PyQt5.QtCore import *
import sys

class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()

        self.v_layout = QVBoxLayout()
        self.h_layout = QHBoxLayout()

        main_widget = QWidget()

        main_widget.setLayout(self.h_layout)

        self.toggle_button = QPushButton('â˜°')

        self.slide_menu = QWidget()
        self.slide_menu.setFixedWidth(0)
        self.slide_menu.setLayout(self.v_layout)
        self.slide_menu.setObjectName('slide_menu')
        self.slide_menu.setStyleSheet('background-color:lightgray')

        label = QLabel()
        label.setAlignment(Qt.AlignCenter)

        self.h_layout.addWidget(self.slide_menu)
        self.h_layout.addWidget(label)

        self.setCentralWidget(main_widget)

        button_pack = [
            QPushButton(text='1'),
            QPushButton(text='2'),
            QPushButton(text='3'),
            QPushButton(text='4'),
            QPushButton(text='5')
        ]

        for buttons in button_pack:
            self.v_layout.addWidget(buttons)

        self.toolbar = QToolBar()
        self.addToolBar(self.toolbar)
        self.toolbar.addWidget(self.toggle_button)

        self.prop_anim = QPropertyAnimation(self.slide_menu, b'maximumWidth')
        self.prop_anim.setDuration(300)

        self.toggle_button.clicked.connect(self.open_slide_menu)

        self.panel_open = False

    def open_slide_menu(self):
        if self.panel_open:
            self.prop_anim.setStartValue(0)
            self.prop_anim.setEndValue(150)
            self.prop_anim.start()
            self.panel_open = False
        else:
            self.prop_anim.setStartValue(150)
            self.prop_anim.setEndValue(0)
            self.prop_anim.start()
            self.panel_open = True

            

        
if __name__ == "__main__":
    app = QApplication(sys.argv)
    window = MainWindow()
    window.resize(500, 300)
    window.show()
    sys.exit(app.exec_())
